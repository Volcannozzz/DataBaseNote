### 数据库恢复的宏观思路

三种故障：事务故障，系统故障，介质故障

三种恢复手段：事务的撤销与重做，运行日志和备份

两个重要时刻：检查点和转储点

日志的分类：

1. undo型日志；先OUTPUT，再COMMIT。恢复时，从后往前进行恢复。存储的是旧值。
2. redo型日志：先COMMIT，再OUTPUT。恢复时，从检查点往后进行恢复，存储的是新值。
3. undo/redo型日志：结合上述两种日志，然后以是否有COMMIT确定执行redo恢复还是undo恢复。如果是commit，则执行redo恢复，否则执行undo恢复。